\section{Aggregate method}

The aggregate method of amortized analysis calculates the average cost per operation over a sequence of operations, even when some individual operations may be expensive. 
This technique is especially useful for data structures that involve periodic costly operations, as it spreads the cost of these infrequent expensive operations across many cheaper ones.

\paragraph*{Hash table resizing}
While a single insertion during a resizing operation might appear costly, with a time complexity of $\mathcal{O}(n)$, this does not imply that $n$ insertions will collectively result in a cost of $\mathcal{O}(n^2)$. 
In practice, the total cost for $n$ insertions remains closer to $\mathcal{O}(n)$, ensuring better overall efficiency.

To illustrate this, let the cost of the $i$-th insertion be denoted as $c_i$:
\[c_i=\begin{cases}
    i \qquad\text{if }i - 1 \text{ is an exact power of }2 \\
    1 \qquad\text{otherwise}
\end{cases}\]
In this scheme, when $i - 1$ is an exact power of $2$, the hash table doubles in size, and all existing entries must be rehashed and inserted into the new table, resulting in a higher cost. 
For all other insertions, the cost remains constant at $1$.

Despite the occasional high cost of resizing, the total cost for $n$ insertions over time is $\mathcal{O}(n)$. 
This means that, on average, the cost of each insertion is: 
\[\frac{\mathcal{O}(n)}{n}=\mathcal{O}(1)\]