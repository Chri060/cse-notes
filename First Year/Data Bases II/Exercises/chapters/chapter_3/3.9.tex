\section{Hierarchical lock}

Consider the following short schedule occurring on a system with hierarchical lock over a hierarchy where $PagA$ contains tuples 
$t_1$ and $t_2$:
\[r_1( PagA ), w_2( t1 ), w_1( t2 )\]
Show a possible sequence of locks, unlocks, lock upgrades, and lock downgrades performed by transactions $T_1$ and $T_2$ such that
the schedule is in 2PL.

\paragraph*{Solution}
We have that: 
\begin{table}[H]
    \centering
    \begin{tabular}{c|ccc|}
    \cline{2-4}
    \textit{}                    & \textbf{PagA}                           & \textbf{t2}          & \textbf{t1}           \\ \cline{2-4} 
    $\textnormal{SIXL}_1(PagA)$  & $\textnormal{SIXL}_1$                   & -                    & -                     \\
    $\textnormal{XL}_1(t2)$      & $\textnormal{SIXL}_1$                   & $\textnormal{XL}_1$  & -                     \\
    $r_1(PagA)$                  &                                         &                      &                       \\
    $\textnormal{U-SL}_1(PagA)$  & $\textnormal{IXL}_1,\textnormal{IXL}_2$ & $\textnormal{XL}_1$  & -                     \\
    $\textnormal{IXL}_2(PagA)$   & $\textnormal{IXL}_1,\textnormal{IXL}_2$ & $\textnormal{XL}_1$  & -                     \\
    $\textnormal{XL}_2(t1)$      & $\textnormal{IXL}_1,\textnormal{IXL}_2$ & $\textnormal{XL}_1$  & $\textnormal{XL}_2$   \\
    $w_2(t1)$                    &                                         &                      &                       \\
    $\textnormal{U-XL}_2(t1)$    & $\textnormal{IXL}_1,\textnormal{IXL}_2$ & $\textnormal{XL}_1$  & -                     \\
    $\textnormal{U-IXL}_2(PagA)$ & $\textnormal{IXL}_1$                    & $\textnormal{XL}_1$  & -                     \\
    Commit $T_2$                 &                                         &                      &                       \\
    $w_1(t2)$                    &                                         &                      &                       \\
    $\textnormal{U-XL}_1(t2)$    & $\textnormal{IXL}_1$                    & -                    & -                     \\
    $\textnormal{U-IXL}_1(PagA)$ & -                                       & -                    & -                     \\
    Commit $T_1$                 & \multicolumn{1}{l}{}                    & \multicolumn{1}{l}{} & \multicolumn{1}{l|}{} \\ \cline{2-4} 
    \end{tabular}
\end{table}
So the schedule is 2PL.