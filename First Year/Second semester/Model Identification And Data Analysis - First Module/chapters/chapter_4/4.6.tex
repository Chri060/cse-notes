\section{ARMAX process}

Consider the ARMAX process:
\[y(t)=\dfrac{C(z)}{A(z)}e(t)+\dfrac{B(z)}{A(z)}u(t-d) \qquad e(t)\sim WN(0,\lambda^2)\]
Assuming:
\begin{itemize}
    \item The process is written in canonical representation.
    \item $u(t-d)$ is measured from $t=-\infty$ until $t=+\infty$.
\end{itemize} 
We define a new process by removing the deterministic part:
\[z(t)=y(t)-\dfrac{B(z)}{A(z)}u(t-d)=\dfrac{C(z)}{A(z)}e(t)\]
We know that we can compute the prediction of this stochastic part as:
\[\hat{z}(t+k|t)=\dfrac{F(z)}{C(z)}z(t)\]

We can rewrite the process also as:
\[y(t)=z(t)+\dfrac{B(z)}{A(z)}u(t-d)\]
We know that we can compute the prediction of this process as follows:
\begin{align*}
    \hat{y}(t+k|t)  &=\dfrac{B(z)}{A(z)}u(t+k-d)+\hat{z}(t+k|t) \\
                    &=\dfrac{B(z)}{A(z)}u(t+k-d)+\dfrac{F(z)}{C(z)}z(t) \\
                    &=\dfrac{B(z)}{A(z)}u(t+k-d)+\dfrac{F(z)}{C(z)}\left( y(t)-\dfrac{B(z)}{A(z)}u(t-d) \right) \\
                    &=\dfrac{B(z)}{C(z)}\left( \dfrac{C(z)}{A(z)} - \dfrac{F(z)}{A(z)}z^{-k} \right)u(t+k-d) + \dfrac{F(z)}{C(z)}y(t) \\
                    &=\dfrac{B(z)E(z)}{C(z)}u(t+k-d) + \dfrac{F(z)}{C(z)}y(t) 
\end{align*}
This expression depends on past values of input and outputs and the model information.