\section{Exercise 1}

Consider the following code: 
\begin{verbnobox}[\verbarg]
LD F6 32+ R2
ADDD F2 F6 F4
MULTD F0 F4 F2
SUBD F12 F2 F6
ADDD F0 F12 F2
\end{verbnobox}
We have: 
\begin{itemize}
    \item 2 Reservation Stations (RS1, RS2) with 1 Load Store unit (LDU1) with 2 clock cycles latency.
    \item 3 Reservation Stations (RS3, RS4, RS5) with 3 ALU/BR FUs (ALU1, ALU2, ALU3) with latency 3 clock cycles latency.
\end{itemize}
\begin{enumerate}
    \item Find all the conflicts. 
    \item Apply the Tomasulo algorithm. 
\end{enumerate}

\subsection*{Solution}
\begin{enumerate}
    \item The conflicts are the following: 
        \begin{itemize}
            \item RAW F6 I1-I2.
            \item RAW F2 I2-I3.
            \item RAW F2 I2-I4.
            \item RAW F6 I1-I4.
            \item RAW F2 I2-I5.
            \item RAW F12 I4-I5.
            \item WAW F0 I3-I5.
        \end{itemize}
    \item The final result of the Tomasulo algorithm is: 
        \begin{table}[H]
            \centering
            \begin{tabular}{l|cccc|cc}
            \multicolumn{1}{c|}{\textbf{Instruction}} & \textbf{Issue} & \textbf{Execution} & \textbf{Write} & \textbf{Hazards}                 & \textbf{RS} & \textbf{Unit} \\ \hline
            \textit{LD F6 32+ R2}                     & 1              & 2                  & 4              &                                  & RS1         & LDU1          \\
            \textit{ADDD F2 F6 F4}                    & 2              & 5                  & 8              & RAW F6                           & RS3         & ALU1          \\
            \textit{MULTD F0 F4 F2}                   & 3              & 9                  & 12             & RAW F2                           & RS4         & ALU2          \\
            \textit{SUBD F12 F2 F6}                   & 4              & 9                  & 13             & \makecell{RAW F2 \\ Struct CDB}  & RS5         & ALU3          \\
            \textit{ADDD F0 F12 F2}                   & 9              & 14                 & 17             & \makecell{Struct RS3 \\ RAW F12} & RS3         & ALU1         
            \end{tabular}
        \end{table}
\end{enumerate}