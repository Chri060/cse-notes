\section{Exercise two}

Let's consider two CPUs: CPU1 and CPU2.
CPU1 operates with a clock cycle of $2\:ns$, while CPU2 has an operating frequency of $700\:MHz$.
Given the frequencies of occurrence of instructions for both CPUs:
\begin{table}[H]
    \centering
    \begin{tabular}{cccc}
    \hline
    \textbf{Operation type} & \textbf{Frequency} & \textbf{CPU1 cycle} & \textbf{CPU2 cycle} \\ \hline
    A                       & 0.3                & 2                   & 2                   \\
    B                       & 0.1                & 3                   & 3                   \\
    C                       & 0.2                & 4                   & 3                   \\
    D                       & 0.3                & 2                   & 2                   \\
    E                       & 0.1                & 4                   & 3                   \\ \hline
    \end{tabular}
\end{table}
\begin{enumerate}
    \item Calculate the average CPI for CPU1 and CPU2.
    \item Determine which CPU is the fastest.
\end{enumerate}

\subsection*{Solution}
\begin{enumerate}
    \item The CPI (Cycle Per Instruction) is calculated as:
        \[\text{CPI}=\dfrac{\text{clock cycles}}{\text{instruction}}\]
        The average CPI is then obtained by:
        \[\sum_{i=1}^{n}\text{CPI}_i \cdot \text{F}_i\]
        Where, $\text{F}_i=\frac{\text{I}_i}{\text{instruction count}}$. 
        For CPU1:
        \[\text{CPI}_1=0.3 \cdot 2 + 0.1 \cdot 3 + 0.2 \cdot 4 + 0.3 \cdot 2 + 0.1 \cdot 4=2.7\]
        For CPU2:
        \[\text{CPI}_2=0.3 \cdot 2 + 0.1 \cdot 3 + 0.2 \cdot 3 + 0.3 \cdot 2 + 0.1 \cdot 3=2.4\]
    \item We have that: 
        \begin{align*}
            \dfrac{{\text{EXE}_{\text{CPU1}}}}{{\text{EXE}_{\text{CPU2}}}}  &=\left( \dfrac{\text{IC}_1 \cdot \text{CPI}_1}{F_1} \right)\left( \dfrac{F_2}{\text{IC}_2 \cdot \text{CPI}_2} \right) \\
                                                                            &=\dfrac{\text{IC}_1 \cdot \text{CPI}_1 \cdot F_2}{F_1 \cdot \text{IC}_2 \cdot \text{CPI}_2} \\
                                                                            &=\dfrac{\text{CPI}_1 \cdot F_2}{F_1 \cdot \text{CPI}_2} \\
                                                                            &=\dfrac{2.7 \cdot 700 MHz}{2.4 \cdot 500 MHz} \\
                                                                            &=1.575
        \end{align*}
        Hence, CPU2 is approximately $1.575$ times faster than CPU1.
\end{enumerate}