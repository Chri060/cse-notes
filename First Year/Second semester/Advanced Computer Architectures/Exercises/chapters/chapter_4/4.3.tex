\section{Exercise 3}

Consider the following code:
\begin{verbnobox}[\verbarg]
LD F6 32+ R2
ADDD F2 F6 F4
MULTD F0 F4 F2
SUBD F12 F2 F6
ADDD F0 F12 F2
\end{verbnobox}
We have that 4 Floating Point ALU with 3 clock cycles latency, a single write port for the pool, and 1 Memory unit with 2 clock cycles latency. 
\begin{enumerate}
    \item Identify all conflicts.
    \item Develop a scoreboard for the given code, indicating clock cycles and using Register Renaming.
\end{enumerate}

\subsection*{Solution}
\begin{enumerate}
    \item Conflicts:
        \begin{itemize}
            \item RAW F6 I1-I2
            \item RAW F2 I2-I3
            \item RAW F2 I2-I4
            \item RAW F6 I1-I4
            \item RAW F2 I2-I5
            \item WAW F0 I3-I5
            \item RAW F12 I4-I5
        \end{itemize}
    \item Scoreboard:
        \begin{table}[H]
            \centering
            \begin{tabular}{c|cccc|cc}
            \textbf{Instruction}    & \textbf{Issue} & \textbf{Read} & \textbf{Execution} & \textbf{Write} & \textbf{Hazards}                         & \textbf{Unit} \\ \hline
            \textit{LD F6 32+ R2}   & 1              & 2             & 4                  & 5              &                                          & MU            \\
            \textit{ADDD F2 F6 F4}  & 2              & 6             & 9                  & 10             & RAW F6                                   & FPU1          \\
            \textit{MULTD F0 F4 F2} & 3              & 11            & 14                 & 15             & RAW F2                                   & FPU2          \\
            \textit{SUBD F12 F2 F6} & 4              & 11            & 14                 & 16             & \makecell{RAW F2 \\ RAW F6 \\ Struct RF} & FPU3          \\
            \textit{ADDD F0 F12 F2}          & 5              & 17            & 20                 & 21             & \makecell{RAW F2 \\ RAW F12}             & FPU4         
            \end{tabular}
        \end{table}
\end{enumerate}